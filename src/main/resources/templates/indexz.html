<html layout:decorator="inicio/layout">
    <head>
        <title>Personas</title>
    <div th:substituteby="inicio/includes :: styles-dynatable"></div>
</head>

<body>
    <section layout:fragment="main">

        <div id="personaVue">

            <section class="panel">
                <header class="header b-b padder-lg">  
                    <div class="pull-right">                
                        <button class="btn btn-success" v-on:click="nuevo">
                            <i class="fa fa-plus"></i> Agregar
                        </button>
                    </div>
                    <h2>Personas</h2> 
                </header>
                <section class="wrapper-lg">
                    <section class="panel">
                        <section class="panel-body">
                            <raptor-table v-bind:url="personasURL" ref="load">

                                <template scope="props" >
                                    <table id="dynaTable" class="table table-striped table-hover">
                                        <thead> 
                                            <tr>
                                                <th class="col-md-4">Paterno</th>
                                                <th class="col-md-4">Materno</th>
                                                <th class="col-md-4">Nombre</th>
                                                <th></th>
                                            </tr> 
                                        </thead>
                                        <tbody>
                                            <tr v-for="item in props.data">

                                                <td class="v-middle">
                                                    <span>{{item.paterno}}</span> 
                                                </td>
                                                <td class="v-middle">
                                                    <span>{{item.materno}}</span> 
                                                </td>
                                                <td class="v-middle">
                                                    <span>{{item.nombres}}</span> 
                                                </td>


                                                <td class="v-middle"> 
                                                    <div class="dropdown actions">                
                                                        <a class="dropdown-toggle" data-toggle="dropdown">
                                                            <i class="glyphicon glyphicon-option-horizontal"></i>
                                                        </a> 
                                                        <ul class="dropdown-menu pull-right">
                                                            <li><a href="#" v-on:click="update(item)">Editar Persona</a></li>
                                                            <li><a href="#" v-on:click="deletePersona(item)">Eliminar Persona</a></li>
                                                        </ul>                
                                                    </div>
                                                </td>        
                                            </tr>

                                        </tbody>
                                    </table>

                                </template>
                            </raptor-table>
                        </section>
                    </section>
                </section>
            </section>

            <div th:substituteby="modalPersona"/>
        </div>

        <div th:substituteby="modulos/vue-modal"/>
    </section>

    <div layout:fragment="js">
        <div th:substituteby="modulos/vue-raptor-table"></div>
        <script th:src="@{/app/persona.js}" charset="utf-8"></script>
    </div>

</body>
</html>
